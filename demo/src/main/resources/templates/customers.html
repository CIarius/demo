<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="https://www.thymeleaf.org">
    <head>
    	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
        <title>Customers</title>
    </head>
    <body>
    	<table class="table table-bordered table-hover table=responsive table-striped">
    		<thead>
    			<tr>
					<th><a th:with="dir=${customers.getSort().getOrderFor('customerId')} == null ? ASC : ( ${customers.getSort().getOrderFor('customerId').getDirection().isAscending()} ? DESC : ASC )" th:href="@{/customers(size=${customers.size}, sort=customerId + ',' + ${dir})}">#</a></th>    				
					<th><a th:with="dir=${customers.getSort().getOrderFor('name')} == null ? ASC : ( ${customers.getSort().getOrderFor('name').getDirection().isAscending()} ? DESC : ASC )" th:href="@{/customers(size=${customers.size}, sort=name + ',' + ${dir})}">Name</a></th>
					<th><a th:with="dir=${customers.getSort().getOrderFor('address')} == null ? ASC : ( ${customers.getSort().getOrderFor('address').getDirection().isAscending()} ? DESC : ASC )" th:href="@{/customers(size=${customers.size}, sort=address + ',' + ${dir})}">Address</a></th>
					<th><a th:with="dir=${customers.getSort().getOrderFor('website')} == null ? ASC : ( ${customers.getSort().getOrderFor('website').getDirection().isAscending()} ? DESC : ASC )" th:href="@{/customers(size=${customers.size}, sort=website + ',' + ${dir})}">Website</a></th>
					<th><a th:with="dir=${customers.getSort().getOrderFor('creditLimit')} == null ? ASC : ( ${customers.getSort().getOrderFor('creditLimit').getDirection().isAscending()} ? DESC : ASC )" th:href="@{/customers(size=${customers.size}, sort=creditLimit + ',' + ${dir})}">Credit Limit</a></th>
    			</tr>
    		</thead>
    		<tr th:each=" customer : ${customers} ">
    			<td align="right" th:text="${customer.customerId}"></td>
    			<td th:text="${customer.name}"></td>
    			<td th:text="${customer.address}"></td>
    			<td><a th:href="${customer.website}" th:text="${customer.website}"></a></td>
    			<td align="right" th:text="${customer.creditLimit}"></td>
    		</tr>
    	</table>
    	
		<div th:if="${customers.totalPages > 0}" th:with="sort=${customers.getSort().toString().replace(',', '&sort=').replace(': ', ',')}">
			<a class="btn btn-primary" th:href="@{/customers(size=${customers.size}, page=0, sort=${sort})}">|&lt;</a>
			<a class="btn btn-primary" th:href="@{/customers(size=${customers.size}, page=${customers.number} > 0 ? ${customers.number}-1 : 0, sort=${sort})}">&lt;</a>
			<a class="btn btn-primary" th:href="@{/customers(size=${customers.size}, page=${customers.number} < ${customers.totalPages}-1 ? ${customers.number}+1 : ${customers.totalPages}-1, sort=${sort})}">&gt;</a>
			<a class="btn btn-primary" th:href="@{/customers(size=${customers.size}, page=${customers.totalPages}-1, sort=${sort})}">&gt;|</a>
		</div>    	

    </body>
</html>